<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register Page</title>
    <link rel="stylesheet" href="planForm.css">
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Get URL parameters
            const params = new URLSearchParams(window.location.search);
            const package = params.get('package');
            const price = params.get('price');

            // Set the package and price fields
            document.getElementById('package').value = package;
            document.getElementById('package').readOnly = true; // Make it readonly

            document.getElementById('price').value = price;
            document.getElementById('price').readOnly = true; // Make it readonly
        });

        function calculate(event) {
            event.preventDefault(); // Prevent the form from submitting immediately

            var checkInDate = new Date(document.getElementById("check_in_Date").value);
            var checkOutDate = new Date(document.getElementById("check_out_Date").value);
            var price = parseFloat(document.getElementById("price").value);

            // Calculate the difference in days between check-in and check-out
            var timeDiff = Math.abs(checkOutDate.getTime() - checkInDate.getTime());
            var quantity = Math.ceil(timeDiff / (1000 * 3600 * 24));

            // Update No of Days field
            document.getElementById("no_of_days").value = quantity;

            // Calculate the amount
            var amount = price * quantity;
            document.getElementById("total_amount").value = amount.toFixed(2);

            // Submit the form after calculation
            // event.target.submit(); // Uncomment this line to submit the form
        }
    </script>
</head>
<body>
    <div class="container">
        <div class="register-section">
            <h2>Plan</h2>
            <p>Register for your chosen plan by filling out the details below.</p>
            <form onsubmit="calculate(event)">
                <div class="input-group">
                    <label for="username">Name</label>
                    <input type="text" id="username" placeholder="Enter your username" required>
                </div>
                <div class="input-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" placeholder="Enter your email" required>
                </div>
                <div class="input-group">
                    <label for="package">Package</label>
                    <input type="text" id="package" required>
                </div>
                <div class="input-group">
                    <label for="check_in_Date">Check-in Date</label>
                    <input type="date" id="check_in_Date" required>
                </div>
                <div class="input-group">
                    <label for="check_out_Date">Check-out Date</label>
                    <input type="date" id="check_out_Date" required>
                </div>
                <div class="input-group">
                    <label for="price">Price</label>
                    <input type="number" id="price" required>
                </div>
                <div class="input-group">
                    <label for="no_of_days">No. of days</label>
                    <input type="number" id="no_of_days" readonly>
                </div>
                <div class="input-group">
                    <label for="total_amount">Total Amount</label>
                    <input type="number" id="total_amount" readonly>
                </div>
                <button type="submit" class="register-btn">Register</button>
            </form>
            <p class="login-link">Already have an account? <a href="signin.html">Log in</a></p>
        </div>
        <div class="image-section">
            <img src="images/Chris_Bumstead2.jpg" alt="Fitness Image" class="animated-image">
            <div class="text-overlay">
                <h1>"YOU BECAME, <br>WHAT YOU <br>BELIEVE"</h1>
            </div>
        </div>
    </div>
</body>
</html>

